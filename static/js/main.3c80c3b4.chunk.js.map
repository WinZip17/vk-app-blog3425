{"version":3,"sources":["panels/Films.js","api/api.js","reducers/MainReducer.js","panels/Preview.js","App.js","reducers/ReduxStore.js","index.js"],"names":["Films","props","react_default","a","createElement","es6","id","activePanel","noShadow","vertical","theme","type","onClick","setActiveCategory","selected","state","activeCategory","title","setActiveFilter","activeFilter","width","height","src","frameBorder","allow","allowFullScreen","instance","axios","baseURL","API","get","concat","then","response","data","initialState","token","isVisible","activeArticle","filmsList","MainReducer","arguments","length","undefined","action","Object","objectSpread","article","Preview","dataApp","this","setWidth","window","innerWidth","setHeight","innerHeight","getFilmsList","activeView","main","panels_Films","setActiveArticle","panels_Preview","React","Component","App","connect","dispatch","activeArticleAC","activeFilterAC","activeCategoryAC","widthAC","heightAC","reducers","combineReducers","store","createStore","applyMiddleware","thunk","send","ReactDOM","render","es","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.3c80c3b4.chunk.js","sourcesContent":["import React from 'react';\nimport {\n\tFixedLayout,\n\tGroup,\n\tHorizontalScroll,\n\tPanel,\n\tPanelHeader,\n\tTabs,\n\tTabsItem,\n\tView,\n\tDiv\n} from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\n\n\nconst Films = (props) => {\n\n\t\treturn (\n\t\t\t<View id=\"films\" activePanel=\"tabs\">\n\t\t\t\t<Panel id=\"tabs\">\n\t\t\t\t\t<PanelHeader\n\t\t\t\t\t\tnoShadow>\n\t\t\t\t\t\tЗаголовочек\n\t\t\t\t\t</PanelHeader>\n\t\t\t\t\t<FixedLayout vertical=\"top\">\n\t\t\t\t\t\t<Tabs theme=\"header\" type=\"buttons\">\n\t\t\t\t\t\t\t<HorizontalScroll>\n\t\t\t\t\t\t\t\t<TabsItem\n\t\t\t\t\t\t\t\t\tonClick={() => props.setActiveCategory(\"films\")}\n\t\t\t\t\t\t\t\t\tselected={props.state.activeCategory === 'films'}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tФильмы\n\t\t\t\t\t\t\t\t</TabsItem>\n\t\t\t\t\t\t\t\t<TabsItem\n\t\t\t\t\t\t\t\t\tonClick={() => props.setActiveCategory(\"cartoons\")}\n\t\t\t\t\t\t\t\t\tselected={props.state.activeCategory === 'cartoons'}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tМультфильмы\n\t\t\t\t\t\t\t\t</TabsItem>\n\t\t\t\t\t\t\t\t<TabsItem\n\t\t\t\t\t\t\t\t\tonClick={() => props.setActiveCategory(\"series\")}\n\t\t\t\t\t\t\t\t\tselected={props.state.activeCategory === 'series'}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tСериалы\n\t\t\t\t\t\t\t\t</TabsItem>\n\t\t\t\t\t\t\t\t<TabsItem\n\t\t\t\t\t\t\t\t\tonClick={() => props.setActiveCategory(\"anime\")}\n\t\t\t\t\t\t\t\t\tselected={props.state.activeCategory === 'anime'}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tАниме\n\t\t\t\t\t\t\t\t</TabsItem>\n\t\t\t\t\t\t\t</HorizontalScroll>\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t</FixedLayout>\n\t\t\t\t\t<Group title=\"фильтры\">\n\t\t\t\t\t\t<Tabs type=\"buttons\">\n\t\t\t\t\t\t\t<HorizontalScroll>\n\t\t\t\t\t\t\t\t<TabsItem\n\t\t\t\t\t\t\t\t\tonClick={() => props.setActiveFilter(\"top\")}\n\t\t\t\t\t\t\t\t\tselected={props.state.activeFilter === 'top'}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tПо рейтингу\n\t\t\t\t\t\t\t\t</TabsItem>\n\t\t\t\t\t\t\t\t<TabsItem\n\t\t\t\t\t\t\t\t\tonClick={() => props.setActiveFilter(\"year\")}\n\t\t\t\t\t\t\t\t\tselected={props.state.activeFilter === 'year'}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tГод\n\t\t\t\t\t\t\t\t</TabsItem>\n\t\t\t\t\t\t\t\t<TabsItem\n\t\t\t\t\t\t\t\t\tonClick={() => props.setActiveFilter(\"genre\")}\n\t\t\t\t\t\t\t\t\tselected={props.state.activeFilter === 'genre'}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tЖанр\n\t\t\t\t\t\t\t\t</TabsItem>\n\t\t\t\t\t\t\t\t<TabsItem\n\t\t\t\t\t\t\t\t\tonClick={() => props.setActiveFilter(\"inter\")}\n\t\t\t\t\t\t\t\t\tselected={props.state.activeFilter === 'inter'}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tСначала интересные\n\t\t\t\t\t\t\t\t</TabsItem>\n\t\t\t\t\t\t\t</HorizontalScroll>\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t</Group>\n\t\t\t\t\t<Group>\n\t\t\t\t\t\t<iframe  width='350' height='250' src=\"https://www.youtube.com/embed/yM1QjdoLmxQ\" frameBorder=\"0\"\n\t\t\t\t\t\t\t\tallow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\n\t\t\t\t\t\t\t\tallowFullScreen></iframe>\n\n\n\t\t\t\t\t</Group>\n\n\n\t\t\t\t</Panel>\n\t\t\t</View>\n\t\t);\n\n}\n\n\n\nexport default Films;\n","import * as axios from \"axios\";\r\n\r\nconst token= \"b36e2c01d03db7050e348d03d32f10a7\"\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'http://moonwalk.cc/api/',\r\n});\r\n\r\nexport const API = {\r\n    getNewFilms() {\r\n        return instance.get(`movies_updates.json?api_token=${token}`)\r\n            .then(response => {\r\n                return response.data;\r\n            })\r\n    },\r\n    getUserById(id) {\r\n        return instance.get(`users/${id}`)\r\n            .then(response => {\r\n                return response.data;\r\n            })\r\n    },\r\n    getPositions() {\r\n        return instance.get(`positions`)\r\n            .then(response => {\r\n                return response.data;\r\n            })\r\n    },\r\n    getToken() {\r\n        return instance.get(`token`)\r\n            .then(response => {\r\n                return response.data.token;\r\n            })\r\n    },\r\n    // postUsers(data, setIsVisible, resetList, getUsers, token, accountSaveSuccess, updatePhoto) {\r\n    //\r\n    //     let formData = new FormData();\r\n    //     formData.append('position_id', data.position);\r\n    //     formData.append('name', data.name);\r\n    //     formData.append('email', data.email);\r\n    //     formData.append('phone', data.phone);\r\n    //     formData.append('photo', data.photo[0]);\r\n    //\r\n    //     fetch('https://frontend-test-assignment-api.abz.agency/api/v1/users', {\r\n    //         method: 'POST',\r\n    //         body: formData,\r\n    //         headers: {\r\n    //             'Token': token, // get token with GET api/v1/token method\r\n    //         },\r\n    //     })\r\n    //         .then(function (response) {\r\n    //             return response.json();\r\n    //         })\r\n    //         .then(function (data) {\r\n    //             if (data.success) {\r\n    //                 RegistResult(setIsVisible, resetList, getUsers, accountSaveSuccess, updatePhoto)\r\n    //             } else {\r\n    //                 // proccess server errors\r\n    //             }\r\n    //         })\r\n    //         .catch(function (error) {\r\n    //             // proccess network errors\r\n    //         });\r\n    //\r\n    // }\r\n};\r\n","import {API} from \"../api/api\";\r\n\r\nconst SET_TOKEN = 'SET_TOKEN';\r\nconst SET_ARTICLE= 'SET_ARTICLE';\r\nconst SET_FILTER= 'SET_FILTER';\r\nconst SET_CATEGORY= 'SET_CATEGORY';\r\nconst SET_WIDTH= 'SET_WIDTH';\r\nconst SET_HEIGHT= 'SET_HEIGHT';\r\nconst GET_NEW_FILMS_LIST= 'GET_NEW_FILMS_LIST';\r\n\r\n\r\n\r\nlet initialState = {\r\n    token: \"\",\r\n    isVisible: false,\r\n    activeArticle: \"films\",\r\n    activeFilter: \"top\",\r\n    activeCategory: \"films\",\r\n    width: \"20\",\r\n    height: \"20\",\r\n    filmsList: {}\r\n\r\n};\r\n\r\nconst MainReducer = (state = initialState, action) => {\r\n    debugger\r\n\r\n    switch (action.type) {\r\n        case SET_TOKEN:\r\n            return {...state, token: action.token};\r\n        case SET_ARTICLE:\r\n            return {...state, activeArticle: action.article};\r\n        case SET_CATEGORY:\r\n            return {...state, activeCategory: action.activeCategory};\r\n        case SET_FILTER:\r\n            return {...state, activeFilter: action.activeFilter};\r\n        case SET_WIDTH:\r\n            return {...state, width: action.width};\r\n        case SET_HEIGHT:\r\n            return {...state, height: action.height};\r\n        case GET_NEW_FILMS_LIST:\r\n            return {...state, filmsList: action.filmsList};\r\n        default:\r\n            return state;\r\n    }\r\n\r\n};\r\n// const showPositionAC = (positionData) => ({type: SHOW_POSITION, positionData: positionData});\r\nexport const activeArticleAC = (article) => ({type: SET_ARTICLE, article: article});\r\nexport const activeFilterAC = (activeFilter) => ({type: SET_FILTER, activeFilter: activeFilter});\r\nexport const activeCategoryAC = (activeCategory) => ({type: SET_CATEGORY, activeCategory: activeCategory});\r\nexport const widthAC = (width) => ({type: SET_WIDTH, width: width});\r\nexport const heightAC = (height) => ({type: SET_HEIGHT, height: height});\r\nconst setTokenAC = (token) => ({type: SET_TOKEN, token: token});\r\nconst getFilmsListAC = (filmsList) => ({type: GET_NEW_FILMS_LIST, filmsList: filmsList});\r\n\r\n\r\n\r\nexport const getFilmsListThunkCreator = () => {\r\n    return (dispatch) => {\r\n        API.getNewFilms()\r\n            .then(data => {\r\n                dispatch(getFilmsListAC(data));\r\n            })\r\n    }\r\n};\r\n\r\n\r\n\r\nexport default MainReducer;","import React from 'react';\nimport {\n\n    View\n} from '@vkontakte/vkui';\n\n\n\nconst Preview = () => {\n\n    return (\n        <View>\nТут типа фильм показывает\n        </View>\n    )\n};\n\n\n\nexport default Preview;\n","import React from 'react';\nimport {\n    Cell,\n    Group, List,\n    Panel, PanelHeader,\n    Root,\n    View\n} from '@vkontakte/vkui';\nimport Films from \"./panels/Films\";\nimport Cartoons from \"./panels/Cartoons\";\nimport {connect} from \"react-redux\";\nimport {\n    activeArticleAC,\n    activeCategoryAC,\n    activeFilterAC,\n    getFilmsListThunkCreator,\n    heightAC,\n    widthAC\n} from \"./reducers/MainReducer\";\nimport Preview from \"./panels/Preview\";\n\n\nclass dataApp extends React.Component {\n    componentDidMount() {\n        this.props.setWidth(window.innerWidth);\n        this.props.setHeight(window.innerHeight);\n        this.props.getFilmsList()\n    }\n    render() {\n    return (\n        <Root activeView={this.props.main.activeArticle} >\n            <Films setActiveArticle={this.props.setActiveArticle} setActiveFilter={this.props.setActiveFilter} setActiveCategory={this.props.setActiveCategory} id=\"films\" state={this.props.main} />\n            <Preview setActiveArticle={this.props.setActiveArticle} setActiveFilter={this.props.setActiveFilter}  state={this.props.main} id=\"preview\"/>\n        </Root>\n    )}\n};\n\n\n\nlet mapStateToProps = (state) => {\n    return {\n        main: state.main\n    };\n};\n\nlet mapDispatchToProps = (dispatch) => {\n    return {\n        setActiveArticle: (article) => {\n            dispatch(activeArticleAC(article))\n        },\n        setActiveFilter: (activeFilter) => {\n            dispatch(activeFilterAC(activeFilter))\n        },\n        setActiveCategory: (activeCategory) => {\n            dispatch(activeCategoryAC(activeCategory))\n        },\n        setWidth: (width) => {\n            dispatch(widthAC(width))\n        },\n        setHeight: (height) => {\n            dispatch(heightAC(height))\n        },\n        getFilmsList: () => {\n            dispatch(getFilmsListThunkCreator());\n        },\n    };\n};\n\nconst App = connect(mapStateToProps, mapDispatchToProps)(dataApp);\n\nexport default App;\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport thunk from 'redux-thunk';\r\nimport MainReducer from \"./MainReducer\";\r\n\r\nexport let reducers = combineReducers({\r\n    main: MainReducer\r\n});\r\n\r\nlet store = createStore(reducers,\r\n    applyMiddleware(thunk));\r\n\r\nwindow.store = store;\r\n\r\nexport default store;\r\n","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vk-connect';\nimport App from './App';\nimport store from \"./reducers/ReduxStore\";\nimport {Provider} from \"react-redux\";\n\n\n// import registerServiceWorker from './sw';\n\n// Init VK  Mini App\nconnect.send('VKWebAppInit', {});\n\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\n// расскомментируйте строку с registerServiceWorker();\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\n// registerServiceWorker();\n\nReactDOM.render(\n    <Provider store={store}>\n        <App/>\n    </Provider>, document.getElementById('root'))\n"],"sourceRoot":""}